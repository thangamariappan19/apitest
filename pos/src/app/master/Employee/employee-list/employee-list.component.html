
<section id="content_wrapper">
    <!-- Topbar -->
    <header id="topbar" class="alt">
        <div class="topbar-left">
            <ol class="breadcrumb">
                <li class="breadcrumb-icon">
                    <a routerLink="../home">
                        <span class="fa fa-home"></span>
                    </a>
                </li>
                <li class="breadcrumb-link">
                    <a routerLink="../home">Home</a>
                </li>
                <li class="breadcrumb-current-item">Employee Master</li>
            </ol>
        </div>
    </header>

    <section class="grids-search grid-search-row allcp-form">

        <div class="row search-section-row">
            <div class="col-xl-1 col-lg-1 col-md-2 col-sm-2 col-2 mt10">
                <button type="button" class="btn btn-primary add-search filter-style btn-sm" (click)="togglePanel()" >
                    <i class="fa fa-filter empfilter-icon"></i> Filter</button>
            </div>
            <div class="col-xl-4 col-lg-3 col-md-8 col-sm-8 col-8" style="padding-right: 0px; position: relative;
            left: -2px; margin-top: 6px;">
            <mat-form-field  appearance="outline">
                <input [(ngModel)]="searchString" matInput   id="globalSearch" 
                     autocomplete="off">
                    <button mat-button mat-icon-button matSuffix (click)="clear_search()" *ngIf="searchString">
                    <mat-icon>close</mat-icon>
                </button>
            </mat-form-field>

          <!-- <input type="text" class="form-control" style="height: 40px;" id="globalSearch"
                (input)="onChange($event.target.value)" placeholder="Search"> -->
        </div>
        <div class="col-xl-1 col-lg-1 col-md-2 col-sm-2 col-2 mt10" style="padding-left: 0px;
            padding-right: 0px;">
            <!-- <a  class="btn btn-primary  add-search btn-sm ml10" title="Search">
                  Search</a> -->
            <button type="button" (click) = "search_click()" class="btn btn-primary add-search btn-sm ml10" >
                    Search</button>
        </div>

        <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-4 mt10" style="padding-right: 0px;">
            <div class="switch-field">
                <input type="radio" id="radio-one" name="switch-one" value="yes" (change)="status_changed($event)" [checked]="true" />
                <label for="radio-one">ACTIVE</label>
                <input type="radio" id="radio-two" name="switch-one" value="no" (change)="status_changed($event)"/>
                <label for="radio-two">INACTIVE</label>
            </div>
        </div>

            <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-4 m-action mt10">
                <a routerLink="../EmployeeAdd" class="btn btn-primary add-c btn-sm ml10" style="width: 100%;"
                    title="New Employee">
                    <span class="fa fa-plus pr5"></span> Create New</a>
            </div>

            <div class="col-xl-1 col-lg-1 col-md-2 col-sm-2 col-2">
                <p class="view-text">View</p>
            </div>

            <div class="col-xl-1 col-lg-2 col-md-2 col-sm-2 col-2 mt10" style="padding-left: 0px;">
                <div class="view-field">
                  <input type="radio" id="radio-one1" name="switch-one" value="yes" (change)="GridDisplay($event)" checked />
                  <label for="radio-one1"><i class="fa fa-th-large"></i></label>
                  <input type="radio" id="radio-two1" name="switch-one" value="no" (change)="GridDisplay($event)" />
                  <label for="radio-two1"><i class="fa fa-list-ul"></i></label>
                </div>
            </div>
        </div>

        <mat-expansion-panel [expanded]="panelOpenState">

            <mat-expansion-panel-header></mat-expansion-panel-header>
            <form [formGroup]="myForm" novalidate>
                <div class="center-block">
                    <div class="allcp-form theme-info">
                        <div class="">
                            <div class="panel-body main-filter-section">
                                <div class="row filter-height">
                                    <div class="col-xl-3 col-lg-2 select-forms">
                                        <div class="section">                                           
                                            <select name="countryID" formControlName="countryID" #countryID
                                            (change)="getStoreList()" class="gui-input">
                                                <option value="">Select Country</option>
                                                <option *ngFor="let item of country_list" value="{{item.id}}">{{item.countryName}}</option>
                                            </select>
                                            <i class="fa fa-angle-down"></i>
                                        </div>                    
                                    </div>
                                    <div class="col-xl-3 col-lg-2 select-forms">
                                        <div class="section">                                           
                                            <select  name="storeID" formControlName="storeID" #storeID
                                            (change)="store()" class="gui-input">
                                                <option value="">Select Store</option>
                                                <option *ngFor="let item of store_List" value="{{item.id}}">
                                                    {{item.storeName}}</option>
                                            </select>
                                            <i class="fa fa-angle-down"></i>
                                        </div>                    
                                    </div>
                                    <div class="col-xl-3 col-lg-4 select-forms">
                                        <div class="section">                                           
                                            <select name="designationID" formControlName="designationID" #designationID
                                            (change)="designation()" class="gui-input">
                                            <option value="">Select Designation</option>
                                            <option *ngFor="let item of designation_List" value="{{item.id}}">
                                                {{item.designationName}}</option>
                                        </select>
                                        <i class="fa fa-angle-down"></i>
                                          
                                        </div>                    
                                    </div>
                                    <div class="col-xl-1 col-lg-4 m-action">
                                     <button type="button" class="btn btn-primary add-c filter-get btn-sm ml10" (click)="GetfilterData()"> Get </button>              
                                    </div>
                                    <div class="col-xl-1 col-lg-4 m-action">
                                        <button type="button" class="btn btn-cancel add-search btn-sm ml10" (click)="ResetfilterData()"> Reset </button>              
                                     
                                </div>
                                <div class="col-xl-1 col-lg-4 m-action">
                                    <button type="button" class="btn btn-cancel add-search filter-close btn-sm ml10" (click)="togglePanel()"> close </button>              
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </mat-expansion-panel>
            



    </section>
<section id="content1" class="animated fadeIn" [style.visibility]="(isShowfilterList == false) ? 'hidden' : 'visible' ">
    
</section>
    <section id="content" class="animated fadeIn">
        <div>
            <div class="center-block">
                <div class="allcp-form theme-info">
                    <div class="panel">
                        <div class="panel-body">
                            <!-- grid card view -->
                            
                                <div class="row card-mat-option"  [hidden] ="isShow">
                                    <div class="offset-xl-7 col-xl-1 offset-lg-6 col-lg-1 offset-md-4 col-md-2 offset-sm-3 col-sm-2">
                                        <p class="abs show-text">Show</p>
                                      </div>
                                      <div class="col-xl-4 col-lg-5 col-md-6 col-sm-7">
                                        
                                       <mat-paginator [length]=recordCount [pageSize]="10"
                                            [pageSizeOptions]="[5, 10, 25, 50, 100]"
                                            (page)="CardVieweventEmitted($event)">
                                        </mat-paginator>
                                    </div>
                                </div>
                                <!-- <div class="row list-type-row" [hidden] ="isShowList" style="margin-bottom: 25px;">
                                
                                    <div class="offset-sm-6 col-sm-3 offset-xl-10 col-xl-1 offset-lg-9 col-lg-1 offset-md-5 col-md-4">
                                        <p class="show-text abs">Show</p>
                                
                                    </div>
                                </div> -->

                            <div class="row mt20" [hidden] ="isShow">

                                <div class="col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12" style="margin-bottom: 20px;" *ngFor="let employee of tblData; let i = index">
                                    <div class="customer-item">
                                        <div class="customer-image">
                                            <img src="{{employee.employeeImage}}">
                                        </div>
                                        <div class="customer-image-content">
                                            <p>{{employee.employeeName}} / <span>{{employee.employeeCode}}</span></p>
                                        </div>

                                        <div class="customerlist-details">
                                            <p class="font-small"><i class="fa fa-suitcase email-icon"> </i> {{employee.designation}}</p>
                                            <p class="font-small"><i class="fa fa-mobile"> </i>{{employee.phoneNo}}</p>
                                        </div>

                                        <div class="style-buttons">
                                            <!--<button class="btn btn-style-edit"><i class="fa fa-edit"></i></button>
                                            <button class="btn btn-style-view"><i class="fa fa-eye"></i></button>-->
                                            <a routerLink="{{ '/EmployeeEdit/' + employee.id.toString() }}" class="btn btn-style-edit">
                                                <i class="fa fa-edit"></i> </a>
                                                <a routerLink="{{ '/EmployeeView/' + employee.id.toString() }}" class="btn btn-style-view">
                                                  <i class="fa fa-eye"></i> </a>
                                        </div>

                                    </div>
                                </div>
                            </div>


                            <!-- grid card view -->

                            <div class="row mt20 style-ngx employee-ngx" [hidden] ="isShowList">
                                <ngx-table [configuration]="configuration" [data]="tblData" [columns]="columns"
                                    #dataTable [noResultsTemplate]="noResultsTemplate" [pagination]="pagination"
                                    (event)="eventEmitted($event)">
                                    <ng-template let-item>

                                        <td>
                                            <div class="font-small " style="text-align: center;"><img
                                                    src="{{item.employeeImage}}"
                                                    style="width: 45px; margin-bottom: 5px;"></div>
                                            <span class="font-small mt">{{item.employeeName}}</span>
                                            <p class="active-status">Active 2 Weeks Ago</p>

                                        </td>

                                        <td>
                                            <div class="font-small">{{item.employeeCode}}</div>
                                        </td>

                                        <td>
                                            <span class="font-small">{{item.roleName}}</span>
                                        </td>
                                        <td>
                                            <span class="font-small">{{item.designation}}</span>
                                        </td>
                                        <td>
                                            <span class="font-small">{{item.phoneNo}}</span>
                                        </td>
                                        <td>
                                            <span class="font-small">{{item.storeName}}</span>
                                        </td>
                                        <td align="center">
                                            <div class="circle"
                                                [ngStyle]="item.active ? {'background-image': 'linear-gradient(#68be7f 5%, #019531 )'} : {'background-image': 'linear-gradient(#ec756c 5%, #c31103 )'}">
                                            </div>
                                        </td>
                                        <td>
                                            <a routerLink="{{ '/EmployeeEdit/' + item.id.toString() }}"
                                                class="btn btn-edits edit-color btn-sm ml10">
                                                EDIT
                                            </a><br>
                                            <a routerLink="{{ '/EmployeeView/' + item.id.toString() }}" class="btn btn-edits view-color mt5 btn-sm ml10">
                                                VIEW
                                            </a>
                                        </td>
                                        <!-- <td>
                                            <a routerLink="{{ '/EmployeeView/' + item.id.toString() }}"
                                                class="btn btn-edits  btn-sm ml10">
                                                <span class="fa fa-eye"></span>
                                            </a>
                                        </td>-->
                                    </ng-template>
                                </ngx-table>
                                <ng-template #noResultsTemplate>
                                    <td [attr.colspan]="5" class="no-results">
                                        No data found :(
                                    </td>
                                </ng-template>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</section>
